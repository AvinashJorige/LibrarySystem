
@{
    ViewBag.Title = "BranchList";
    Layout = "~/Views/Shared/_LayoutBlankPage.cshtml";
}


@section scripts
{
    <script src="@Url.Content("~/Areas/Admin/scripts/menuDisplay.js")"></script>
    <script src="@Url.Content("~/Areas/Admin/scripts/BranchScript.js")"></script>
}

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Branch Details
    </h1>
</section>
<!-- Main content -->
<section class="content">
    <form method="get">        
        <!-- ko if: BranchList.errorMessage != null -->
            <div class="alert alert-warning alert-dismissible">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                <h4><i class="icon fa fa-warning"></i> Alert!</h4>
                  <!-- ko text: errorMessage --><!-- /ko-->
            </div>
        <!-- /ko -->

        <!-- ko if: BranchList.successMessage != null -->
            <div class="alert alert-success alert-dismissible">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                <h4><i class="icon fa fa-check"></i> Alert!</h4>
                <!-- ko text: successMessage --><!-- /ko-->
            </div>
        <!-- /ko -->


        <div class="col-md-12" id="Branch_list_display">
            <!-- Box Comment -->
            <div class="box box-widget">
                <div class="box-header with-border">
                    <div class="user-block">
                        <b>Branchs List</b>
                    </div>
                    <!-- /.user-block -->
                    <div class="box-tools">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                    </div>
                    <!-- /.box-tools -->
                </div>
                <!-- /.box-header -->
                <div class="box-body" style="display: block;">
                    <div class="col-md-12">
                        <table id="branchLists" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Branch Name</th>
                                    <th>Books Quantities</th>
                                    <th>Total Student</th>
                                    <th />
                                </tr>
                            </thead>
                            <tbody data-bind="foreach: BranchList.arrayObjList">                                
                                <tr>
                                    <td data-bind="text: $index"><span style="visibility:hidden" data-bind="text: $data.BrchId"></span></td>
                                    <td><span data-bind="text: $data.BrchName"></span></td>
                                    <td><span data-bind="text: $data.BksTotal"></span></td>
                                    <td><span data-bind="text: $data.StdTotal"></span></td>
                                    <td><a href="#" data-bind="click: $root.BranchList.EditForm">Edit</a></td>
                                </tr>
                                
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- /.box-body -->
                <!-- /.box-footer -->
                <div class="box-footer" style="display: block;">
                    <div class="col-md-1 pull-right">
                        <button type="button" class="btn btn-info pull-right" data-toggle="modal" data-target="#newBranch">Add new branch</button>
                    </div>
                </div>
                <!-- /.box-footer -->
            </div>
            <!-- /.box -->
        </div>

        <!-- Modal -->
        <div id="Add_new_Branch">
            <div class="modal fade" id="newBranch" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-bind="click: BranchScripts.clear" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">New Branch</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group" data-bind="validationElement: BranchScripts.BranchName">
                                        <label for="BranchName" class="col-sm-3 control-label">Branch Name</label>
                                        <div class="col-sm-9">
                                            <input type="text" class="form-control" name="BranchName" data-bind="value: BranchScripts.BranchName, valueUpdate: 'afterkeydown'" placeholder="Branch Name">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="reset" data-bind="click: BranchScripts.clear" class="btn btn-default pull-left">Cancel</button>
                            <button type="submit" data-bind="click: BranchScripts.validate" class="btn btn-info pull-right">Submit</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </form>
</section>
<!-- /.content -->
